!function(){"use strict";function e(){}function t(e,t){e.clearRect(0,0,l.width,l.height),e.globalCompositeOperation="multiply";for(var n=e.createLinearGradient(0,0,t.width,0),a=document.getElementById("colour-div").getElementsByTagName("input"),o=0;o<a.length;o++)a.length>1?(n.addColorStop(o/(a.length-1),a[o].value),console.log(a[o].value)):n=a[o].value,B[o]=a[o].value;e.fillStyle=n,e.beginPath(),e.fillRect(0,0,t.width,t.height),e.closePath(),e.fill(),e.beginPath();var i=e.createLinearGradient(0,0,0,l.height);i.addColorStop(0,"#fff"),i.addColorStop(1,"#ccc"),e.fillStyle=i,e.fillRect(0,0,l.width,l.height),e.closePath(),e.fill(),e.globalCompositeOperation="source-over",e==w?s=e:(s.getImageData(0,0,1,1).data[3]<255||s.getImageData(t.width-1,t.height-1,1,1).data[3]<255)&&e.clearRect(0,0,t.width,t.height)}function n(){var e=canvas.toDataURL();f.href=e}function a(e,t){for(var n,a,o,i,u=function(e,t){e<0&&(e=0),e>l.width-1&&(e=l.width-1),t<0&&(t=0),t>l.height-1&&(t=l.height-1),n=s.getImageData(e,t,1,1).data[0],o=s.getImageData(e,t,1,1).data[1],a=s.getImageData(e,t,1,1).data[2],i=s.getImageData(e,t,1,1).data[3]},r=function(){if(t){var e=2*Math.random()*T-T;d.fillStyle="rgba("+Math.round(n-n*e)+", "+Math.round(o-o*e)+", "+Math.round(a-a*e)+", "+i/255+")"}else d.fillStyle="rgba("+n+", "+o+", "+a+", "+i/255+")"},y=0;y<p.length;y++)e==p[y]&&e.r%2==0&&p[y+g+1]&&e.c<g-1&&(u(Math.round(e.c/g*c),Math.round(e.r/m*h+2*x/3)),r(),d.beginPath(),d.moveTo(e.x,e.y),d.lineTo(p[y+g].x,p[y+g].y),d.lineTo(p[y+g+1].x,p[y+g+1].y),d.closePath(),d.fill(),u(Math.round(e.c/g*c+x/2),Math.round(e.r/m*h+x/3)),r(),d.beginPath(),d.moveTo(e.x,e.y),d.lineTo(p[y+1].x,p[y+1].y),d.lineTo(p[y+g+1].x,p[y+g+1].y),d.closePath(),d.fill()),e==p[y]&&e.r%2!=0&&p[y+g+1]&&e.c>0&&(u(Math.round((e.c-1)/g*c),Math.round(e.r/m*h+x/3)),r(),d.beginPath(),d.moveTo(e.x,e.y),d.lineTo(p[y-1].x,p[y-1].y),d.lineTo(p[y+g-1].x,p[y+g-1].y),d.closePath(),d.fill(),u(Math.round((e.c-1)/g*c+x/2),Math.round(e.r/m*h+2*x/3)),r(),d.beginPath(),d.moveTo(e.x,e.y),d.lineTo(p[y+g-1].x,p[y+g-1].y),d.lineTo(p[y+g].x,p[y+g].y),d.closePath(),d.fill())}function o(t){p=[];for(var n,a=0,o=0,i=0;i<t;i++)n=new e,a%2==0?(n.x=o*x-x,n.x=n.x+(Math.random()-.5)*M*x*2):(n.x=o*x-x-x/2,n.x=n.x+(Math.random()-.5)*M*x*2),n.y=a*x*.866-x,n.y=n.y+(Math.random()-.5)*M*x*2,n.r=a,n.c=o,p.push(n),o+=1,(i+1)%g==0&&(a+=1,o=0)}function i(e){!0===e||(x=2*r.value+10,M=u.value/100,c=l.width+2*x,h=l.height+2*x,g=Math.ceil(c/x)+2,m=Math.ceil(h/(.865*x)),o(g*m)),T=y.value/100,d.clearRect(0,0,l.width,l.height),t(d,l);for(var i=0;i<p.length;i++)a(p[i],!0);n(),E.style.display="none"}var l,d,c,h,u,r,g,m,y,s,f,v,w,E,I,p=[],x=50,M=.2,T=.5,B=["#22bbee","#8855cc","#ee2266","#ee7722"];document.addEventListener("DOMContentLoaded",function(){l=document.getElementById("canvas"),r=document.getElementById("cell-size"),u=document.getElementById("variance"),y=document.getElementById("oamount"),f=document.getElementById("save"),d=l.getContext("2d"),v=document.getElementById("canvas2"),w=v.getContext("2d"),I=document.getElementById("numColours");var e=function(e,t){l.width=e,l.height=t,c=l.width+2*x,h=l.height+2*x,v.width=l.width,v.height=l.height},n=function(){for(var e=0;e<I.value;e++){var n=document.createElement("input");n.type="color",n.id="colour"+(e+1),document.getElementById("colour-div").appendChild(n),document.getElementById("num-colours").innerHTML=I.value,n.value=B[e],n.addEventListener("change",function(){t(w,v),E.style.display="",window.setTimeout(function(){i()},2)},!1)}};n(),e(1280,720),t(w,v),E=document.getElementById("loader"),i(),I.addEventListener("change",function(){document.getElementById("colour-div").innerHTML="",n(),t(w,v),E.style.display="",window.setTimeout(function(){i()},0)},!1),r.addEventListener("change",function(){E.style.display="",window.setTimeout(function(){i()},0)},!1),u.addEventListener("change",function(){E.style.display="",window.setTimeout(function(){i()},0)},!1),y.addEventListener("change",function(){E.style.display="",window.setTimeout(function(){i(!0)},0)},!1),document.getElementById("size-btn").addEventListener("click",function(){var t=document.getElementById("width").value,n=document.getElementById("height").value;e(t,n),console.log(t+" : "+n),i()})},!1)}();
//# sourceMappingURL=main.min.js.map
